{{ block title }}
    抽獎結果
{{ endblock }}

{{ block content }}
    <p hidden id="red_value"> {{ player.is_red }} </p>
    <p hidden id="row">{{ player.row }}</p>
    <p hidden id="sw">{{ player.switching_point }}</p>
    <p hidden id="random">{{player.is_random}} </p>
    <span hidden id = pay>{{ player.temp_payoff }}</span>
    <p>
        {{ if player.is_random }}
        <p>本回合的答案罐是
             <span style="font-weight:bold;font-size:120%;" id="jar">
                {{ player.is_red_str }}
            </span> 
        </p>
        <p>本回合您從第 {{ player.switching_point }} 行開始選擇隨機抽獎 </p>
        <p>本回合抽中第 {{ player.row }} 行的選擇 </p>
        <p>該行您的選擇為
             <span style="font-weight:700;font-size:105%;">
                隨機抽獎
             </span>
            ，中獎的可能性是
            <span id="prob">

            </span>
        </p>

        {{ else }}
        <p>本回合的答案罐是
            <span style="font-weight:bold;font-size:120%;" id="jar">
                {{ player.is_red_str }}
            </span>
        </p>
        <p>本回合您從第 {{ player.switching_point }} 行開始選擇隨機抽獎 </p>
        <p>本回合抽中第 {{ player.row }} 行的選擇 </p>
        <p>該行您的選擇為 
            <span style="font-weight:700;font-size:110%;">
                紅罐抽獎
            </span>
        </p>
        <span hidden id="prob"></span>
        {{ endif }}
        </p>
        
        <p id = "informed"></p>
        <p>本回合您的報酬為 <span>{{ player.temp_payoff }}</span> </p>
    <p id="test"></p>
     <!--   <div id="table" hidden>
            <table class="table table-striped">
                <colgroup>
                    <col width="70%">
                    <col width="15%">
                    <col width="15%">
                </colgroup>
                <tr>
                    <td align="middle"><b>隨機抽獎中獎可能性</b></td>
                    <td align="right"><b>採用隨機抽獎</b></td>
                    <td align="left"><b>採用紅罐抽獎</b></td>
                </tr>
                 <tr>
                    <td align="middle" id="1"><b> 5/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="1"
                               data-amount="1"
                               disabled>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="1"  disabled/></td>
                </tr>
                <tr>
                    <td align="middle" id="2"><b> 15/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="2"
                               data-amount="2"
                               disabled>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="2"  disabled></td>
                </tr>
            
                <tr>
                    <td align="middle" id="3"><b> 25/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="3"
                               data-amount="3"
                               disabled>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="3"  disabled></td>
                </tr>
            
                <tr>
                    <td align="middle" id="4"><b> 35/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="4"
                                data-amount="4"
                               disabled>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="4"disabled></td>
                </tr>
            
                <tr>
                    <td align="middle" id="5"><b> 45/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="5"
                               data-amount="5"
                               disabled>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="5"  disabled></td>
                </tr>
            
                <tr>
                    <td align="middle" id="6"><b> 55/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="6"
                               data-amount="6"
                               disabled>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="6"  disabled></td>
                </tr>
            
                <tr>
                    <td align="middle" id="7"><b> 65/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="7"
                               data-amount="7"
                               disabled>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="7" disabled></td>
                </tr>
            
                <tr>
                    <td align="middle" id="8"><b> 75/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="8"
                               data-amount="8"
                               disabled
                               >&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="8"  disabled></td>
                </tr>
            
                <tr>
                    <td align="middle" id="9"><b> 85/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="9"
                               data-amount="9"
                               disabled>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="9" disabled></td>
                </tr>
            
                <tr>
                    <td align="middle" id="10"><b> 95/100 </b>
                    <td align="right">
                        <input type="radio"
                               value="left"
                               name="10"
                               data-amount="10"
                               disabled>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" value="right" name="10" disabled></td>
                </tr>
            
                 <tr>
                    <td align="middle"><b> 100/100 </b>
                    <td align="right">
                        <input type="radio"
                               checked
                               name="11"/>&nbsp;&nbsp;
                    </td>
                    </td>
                    <td align="left"><input type="radio" disabled></td>
                </tr>
            </table>
        </div>-->


{{ next_button }}
<script>
    const red = document.getElementById("red_value").innerHTML;
    const row = document.getElementById("row").innerHTML;
    const pay = document.getElementById("pay").innerHTML.trim();
    const Random = document.getElementById("random").innerHTML.trim();
    const sw = document.getElementById("sw").innerHTML;
    const Jar_text = document.getElementById("jar");
    const Inform = document.getElementById("informed");
    var IsRandom = (Random=="True");
    //console.log(IsRandom);
    //console.log(Random);
    //console.log(pay);
    if (red == 0) { //redjar 
        Jar_text.style.color="red";
    } else {
        Jar_text.style.color="blue";
    }

    if(IsRandom){
        if(pay === "200 法幣"){ //win
            Inform.innerHTML = "電腦隨機抽獎的結果是「你中獎了」";
        }else{
            Inform.innerHTML = "電腦隨機抽獎的結果是「你沒中獎」";
        }
    }else{
        if(pay === "200 法幣"){ //win
            Inform.innerHTML = "因為答案罐是紅罐";
        }else{
            Inform.innerHTML = "因為答案罐是藍罐";
        }
    }
    document.getElementById("prob").innerHTML = (row*10-5).toString()+"/100";
    document.getElementById(row).style.color="red"; //Highlight the randomly selected row probability

     //radio
    document.getElementsByName("11")[0].disabled = true; 
   for (let i = 1; i <= 11; i++){ //To fill the table 
        if (i< sw){
            document.getElementsByName(i)[1].checked = true;
        }else{
            document.getElementsByName(i)[0].checked = true;
        }
    }/*
    if (row<sw){
        document.getElementsByName(row)[1].disabled = false;
        document.getElementsById("test").innerHTML = row.toString()+ "<"+sw.toString();
    }else{
        document.getElementsByName(row)[0].disabled = false;
        document.getElementsById("test").innerHTML = row.toString()+ ">="+sw.toString();
    }
    
    */   
</script>
{{ endblock }}


